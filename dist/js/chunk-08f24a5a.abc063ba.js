(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08f24a5a"],{"04d0":function(a,t,s){"use strict";s.r(t);var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"edit_wrap wrapper"},[s("div",{staticClass:"backBtn"},[s("el-button",{on:{click:a.goBack}},[a._v("返回")])],1),s("div",{staticClass:"edit_title"},[a._v("标题")]),s("el-input",{attrs:{placeholder:"请输入标题"},model:{value:a.title,callback:function(t){a.title=t},expression:"title"}}),s("div",{staticClass:"classify"},[s("el-input",{attrs:{size:"mini",placeholder:"分类1"},model:{value:a.class01,callback:function(t){a.class01=t},expression:"class01"}}),s("el-input",{attrs:{size:"mini",placeholder:"分类2"},model:{value:a.class02,callback:function(t){a.class02=t},expression:"class02"}}),s("el-input",{attrs:{size:"mini",placeholder:"分类3"},model:{value:a.class03,callback:function(t){a.class03=t},expression:"class03"}})],1),s("div",[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:3000/api/article/upload","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload,name:"head_img"}},[s("img",{staticClass:"avatar",attrs:{src:a.imageUrl?a.imageUrl:a.defaultAvatar}})])],1),s("div",{staticClass:"edit_title"},[a._v("文章内容 (Markdown编辑器)")]),s("div",{staticClass:"markdown"},[s("mavon-editor",{model:{value:a.content,callback:function(t){a.content=t},expression:"content"}})],1),s("div",{staticClass:"save_btn"},[s("el-button",{attrs:{type:"primary"},on:{click:a.save}},[a._v("保存为技术文章")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.save(1)}}},[a._v("保存为生活说说")])],1)],1)},i=[],c={data:function(){return{title:"",content:"",class01:"",class02:"",class03:"",classid_01:"",classid_02:"",classid_03:"",imageUrl:"",defaultAvatar:s("0ba3")}},methods:{handleAvatarSuccess:function(a){this.imageUrl=a.data},beforeAvatarUpload:function(a){var t="image/jpeg"===a.type,s=a.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&s},goBack:function(){this.$router.go(-1)},save:function(a){var t=this;if(this.class01&&this.class01&&this.class01&&(this.class01===this.class02||this.class01===this.class03))return this.$message({message:"请不要填写重复的分类名称",type:"warning"});if(0==a);else if(1==a){var s={title:this.title,content:this.content,classname01:this.class01,classname02:this.class02,classname03:this.class03,type:a};this.$http.post("/api/article/add",s).then((function(a){0===a.data.code&&t.$router.push({name:"article"})})),this.$store.commit("changeTimeLocus",1)}else if(this.$route.params.id){var e={title:this.title,content:this.content,article_id:this.$route.params.id,classname01:this.class01,classname02:this.class02,classname03:this.class03,classid_01:this.classid_01,classid_02:this.classid_02,classid_03:this.classid_03,pic_url:this.imageUrl};this.$http.post("/api/article/update",e).then((function(a){0===a.data.code&&t.$router.push({name:"article"})}))}else{var i={title:this.title,content:this.content,classname01:this.class01,classname02:this.class02,classname03:this.class03,pic_url:this.imageUrl};this.$http.post("/api/article/add",i).then((function(a){0===a.data.code&&t.$router.push({name:"article"})}))}},getDetail:function(){var a=this;this.$http.get("/api/article/detail",{params:{article_id:this.$route.params.id}}).then((function(t){0===t.data.code&&(a.title=t.data.data.title,a.content=t.data.data.content,a.class01=t.data.data.class_name01,a.class02=t.data.data.class_name02,a.class03=t.data.data.class_name03,a.classid_01=t.data.data.classify_id01,a.classid_02=t.data.data.classify_id02,a.classid_03=t.data.data.classify_id03,a.imageUrl=t.data.data.pic_url)})).catch((function(a){console.log(a)}))}},created:function(){this.$route.params.id&&this.getDetail()}},l=c,n=(s("da54"),s("2877")),r=Object(n["a"])(l,e,i,!1,null,"6e0668c6",null);t["default"]=r.exports},"0ba3":function(a,t,s){a.exports=s.p+"img/avatar.bcd9a225.jpg"},da54:function(a,t,s){"use strict";s("f9ef")},f9ef:function(a,t,s){}}]);
//# sourceMappingURL=chunk-08f24a5a.abc063ba.js.map