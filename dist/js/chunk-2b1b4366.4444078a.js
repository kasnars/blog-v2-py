(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b1b4366"],{"7a49":function(e,t,r){"use strict";r("eb25")},a55b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"mask"}),r("div",[1===e.status?r("div",{staticClass:"LoginBox"},[r("div",{staticClass:"LoginBox-Box"},[r("el-form",{key:"1",ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"0",inline:!1,size:"normal"}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入账号"},on:{input:function(t){return e.changeInput(e.e)}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{staticClass:"login iconfont My-new-iconxuanzhonghaoyou",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")])],1),r("el-form-item",[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[r("el-button",{attrs:{type:"success",round:"",span:12}},[r("router-link",{attrs:{to:"/reg"}},[e._v("注册账号")])],1),r("el-button",{attrs:{type:"primary",round:"",span:12},on:{click:e.Gohome}},[e._v(" 回到主页 ")])],1)],1)],1)],1)]):e._e()])])},n=[],s=(r("b0c0"),r("a78e"),r("bc3a")),o=r.n(s),i={data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.regform.checkPass&&e.$refs.regform.validateField("checkPass"),a())},r=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.regform.pass?a(new Error("两次输入密码不一致!")):a()};return{loading:!1,form:{name:"",password:""},regform:{regname:"",nickname:"",pass:"",checkPass:""},status:1,rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}]},regrules:{regname:[{required:!0,message:"请输入您的用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入您的昵称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:r,trigger:"blur"}]}}},methods:{Gohome:function(){this.$router.push({name:"home"})},onSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t?o.a.post("/login",e.form).then((function(t){e.$message({message:"登录成功",type:"success"}),e.$store.commit("changIsSignIn",1),localStorage.setItem("nickname",t.data.nickname),localStorage.setItem("username",t.data.name),e.$store.commit("setToken",t.data.token),localStorage.setItem("getToken",t.data.token),localStorage.setItem("isLoginStatus",1),localStorage.setItem("userimg",t.data.img),e.$router.go(0)})).catch((function(t){e.$message({message:"账号或密码错误",type:"error"})})):e.$message.error("账号或密码未输入")}))},changeInput:function(e){console.log(event,"event"),this.$forceUpdate()}}},m=i,l=(r("7a49"),r("2877")),u=Object(l["a"])(m,a,n,!1,null,"262520d2",null);t["default"]=u.exports},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,s=Function.prototype,o=s.toString,i=/^\s*function ([^ (]*)/,m="name";a&&!(m in s)&&n(s,m,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},eb25:function(e,t,r){}}]);
//# sourceMappingURL=chunk-2b1b4366.4444078a.js.map